# Kimi AI 集成使用指南

## ✅ 已完成配置

您的 Kimi API 已经通过环境变量配置完成，可以直接使用！

### 当前配置

- **提供商**: Moonshot (Kimi)
- **模型**: moonshot-v1-8k
- **API Token**: 已配置在 `.env.local` 文件中
- **API 端点**: https://api.moonshot.cn/v1/chat/completions

## 🚀 快速开始

### 1. 启动项目

```bash
cd /Users/zzxxsss/my_app/ontology_reading
npm run dev
```

浏览器会自动打开 http://localhost:5173

### 2. 使用 AI 功能

#### 首次构建本体

1. 在左侧"资讯输入"区域输入您的内容
   - 例如：一篇关于区块链的文章
   - 或者：学习笔记、论文摘要等

2. 点击"提交分析"按钮

3. 系统会：
   - ✨ 自动提取核心概念
   - 🔗 识别概念间的关系
   - 📊 构建知识本体图
   - 📝 输出结构化内容

4. 结果展示：
   - **右侧**: 可视化的本体图
   - **左下**: 基于本体整理后的内容

#### 更新已有本体

1. 输入新的资讯内容
2. 点击"提交分析"
3. AI 会自动：
   - 融合新概念到已有本体
   - 建立新旧概念的关联
   - 更新本体结构

### 3. 手动编辑本体

即使有 AI 自动构建，您仍然可以手动调整：

- **双击节点**: 编辑概念名称、类型、描述
- **拖拽连接**: 从节点 A 拖到节点 B 创建关系
- **Delete 键**: 删除选中的节点或边
- **拖拽节点**: 调整布局位置
- **滚轮**: 缩放画布

## 📊 示例演示

### 输入示例

```
GPT-4是OpenAI开发的大型语言模型，采用Transformer架构。
它使用了大规模预训练和微调技术，能够理解和生成自然语言。
GPT-4在多项NLP任务上表现优异，包括文本生成、问答、翻译等。
```

### 预期输出

AI 会自动构建包含以下概念的本体：
- GPT-4 (模型)
- OpenAI (组织)
- Transformer (架构)
- 预训练 (技术)
- 微调 (技术)
- NLP (领域)
- 文本生成 (应用)
- 问答 (应用)

并建立它们之间的关系：
- GPT-4 → 开发者 → OpenAI
- GPT-4 → 基于 → Transformer
- GPT-4 → 使用 → 预训练
- GPT-4 → 应用于 → NLP

## ⚙️ 高级设置

### 切换模型

如果您想使用更大的 Kimi 模型：

1. 点击右上角"设置"按钮
2. 在"AI 模型配置"中修改模型名称：
   - `moonshot-v1-8k` (当前) - 适合一般场景
   - `moonshot-v1-32k` - 支持更长文本
   - `moonshot-v1-128k` - 支持超长文本

3. 点击"保存设置"

### 查看环境变量配置

设置页面会显示：
```
✅ 已通过环境变量配置 AI 服务
提供商: moonshot | 模型: moonshot-v1-8k
```

## 💾 数据管理

### 导出本体

1. 设置 → 数据管理 → "导出本体 JSON"
2. 下载的 JSON 文件包含：
   - 所有节点（概念）
   - 所有边（关系）
   - 时间戳和版本信息

### 导入本体

1. 设置 → 数据管理 → "导入本体 JSON"
2. 选择之前导出的 JSON 文件
3. 系统会验证并导入数据

### 数据持久化

- 所有数据自动保存在浏览器 LocalStorage
- 刷新页面不会丢失数据
- 建议定期导出备份

## 🔒 安全说明

### API Token 安全

✅ **已做好安全措施**：
- API Token 存储在 `.env.local` 文件
- `.env.local` 已添加到 `.gitignore`
- **不会被提交到 GitHub**

⚠️ **注意事项**：
- 不要在代码中硬编码 Token
- 不要将 `.env.local` 文件分享给他人
- 如果 Token 泄露，请立即在 Moonshot 后台重置

### 数据隐私

- 输入的资讯内容会发送到 Moonshot AI 服务器
- 数据仅用于生成本体，不会被存储或训练
- 本体数据仅保存在您的本地浏览器

## ❓ 常见问题

### 1. AI 分析失败怎么办？

可能原因：
- API Token 过期或无效
- 网络连接问题
- Moonshot 服务器维护

解决方法：
- 检查设置中的 API Token 是否正确
- 查看浏览器控制台的错误信息
- 稍后重试

### 2. 如何清空本体重新开始？

设置 → 数据管理 → "清空本体（危险操作）"

**注意**：此操作不可恢复，建议先导出备份

### 3. 可以同时管理多个领域的本体吗？

当前 MVP 版本仅支持单本体模式。

**临时解决方案**：
1. 导出当前本体 JSON 并重命名（如 `blockchain.json`）
2. 清空本体
3. 构建新领域的本体
4. 需要时通过导入功能切换

**后续版本**：会支持多本体管理

## 📚 更多资源

- **Moonshot AI 官网**: https://www.moonshot.cn/
- **API 文档**: https://platform.moonshot.cn/docs
- **项目 README**: [README.md](README.md)
- **PRD 文档**: [PRD_MVP_AGILE.md](PRD_MVP_AGILE.md)

---

**祝您使用愉快！** 🎉

如有问题，请查看浏览器控制台或在 GitHub Issues 中反馈。
